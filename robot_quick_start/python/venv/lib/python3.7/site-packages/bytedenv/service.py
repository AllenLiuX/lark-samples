# coding: utf-8
from __future__ import absolute_import, division, print_function, unicode_literals

import os

from .callcache import callcache

PSM_UNKNOWN = '-'
CLUSTER_DEFAULT = 'default'
POD_NAME_DEFAULT = '-'


@callcache
def get_psm():  # type: () -> str
    """Get current PSM.

    :returns: PSM
    :rtype: str
    """
    return os.environ.get('TCE_PSM') or os.environ.get('LOAD_SERVICE_PSM') or os.environ.get('PSM') or PSM_UNKNOWN


@callcache
def get_cluster():  # type: () -> str
    """Get current cluster.

    :returns: cluster
    :rtype: str
    """
    return os.environ.get('TCE_CLUSTER') or os.environ.get('SERVICE_CLUSTER') or CLUSTER_DEFAULT


@callcache
def get_pod_name():  # type: () -> str
    """Get current pod.

    :returns: pod_name
    :rtype: str
    """
    return os.environ.get('MY_POD_NAME') or POD_NAME_DEFAULT
